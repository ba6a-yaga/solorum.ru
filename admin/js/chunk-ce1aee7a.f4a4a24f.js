(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce1aee7a"],{"12d0":function(e,t,n){},"1c4c":function(e,t,n){"use strict";var a=n("9b43"),o=n("5ca1"),r=n("4bf8"),i=n("1fa8"),s=n("33a4"),_=n("9def"),c=n("f1ae"),l=n("27ee");o(o.S+o.F*!n("5cc5")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,u,d=r(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,h=void 0!==m,v=0,b=l(d);if(h&&(m=a(m,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&s(b))for(t=_(d.length),n=new f(t);t>v;v++)c(n,v,h?m(d[v],v):d[v]);else for(u=b.call(d),n=new f;!(o=u.next()).done;v++)c(n,v,h?i(u,m,[o.value,v],!0):o.value);return n.length=v,n}})},"2d7d":function(e,t,n){"use strict";n("ac6a"),n("55dd");var a=n("dc59");t["a"]={fetchData:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;return new Promise((function(r){var i=a["a"].firestore(),s={};i.settings(s);var _=i.collection(e);o&&(_=_.orderBy(o.sort,o.order)),_.get().then((function(e){console.log(e.docs);var t={};n?t=e.docs.map((function(e){return e.data()})):(t={},e.docs.forEach((function(e){t[e.id]=e.data()}))),console.log(t),r(t)})).catch((function(){r(t[e])}))}))},removeData:function(e,t){var n=a["a"].firestore(),o={};n.settings(o),n.collection(e).doc(t).delete().then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},saveData:function(e,t,n){return new Promise((function(o,r){var i=a["a"].firestore(),s={};i.settings(s),i.collection(e).doc(t).set(n).then((function(e){console.log(e),o(e)})).catch((function(e){console.log(e),r(e)}))}))},uploadAppData:function(){var e=this,t=a["a"].firestore(),n={};t.settings(n);var o=["navigation","main","coworking","office","business","realty","contacts","event","callback","footer"];o.forEach((function(n){var a=e[n];for(var o in console.log(e[n]),console.log(n),a)Array.isArray(a[o])?t.collection(n).doc(o).set({list:a[o]}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})):t.collection(n).doc(o).set(a[o]).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}))},cached:{}}},"2f21":function(e,t,n){"use strict";var a=n("79e5");e.exports=function(e,t){return!!e&&a((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"3aa2":function(e,t,n){"use strict";var a=n("12d0"),o=n.n(a);o.a},"3ea1":function(e,t,n){},5118:function(e,t,n){(function(e){var a="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(o.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("c8ba"))},5208:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-col",{key:e.k,attrs:{md:"12"}},[e.sorting&&e.data?e._l(e.sorting,(function(t,a){return n("b-card",{key:a,class:[{collapsed:!e.expanded[a]}]},[n("div",{attrs:{slot:"header"},slot:"header"},[n("strong",[e.expanded[a]?n("a",{attrs:{href:"/"},on:{click:function(t){return t.preventDefault(),function(){e.collapse(a)}()}}},[e._v("- "),n("span",[e._v(e._s(e.i18n.get(t)))])]):n("a",{attrs:{href:"/"},on:{click:function(t){return t.preventDefault(),function(){e.expand(a)}()}}},[e._v("+ "),n("span",[e._v(e._s(e.i18n.get(t)))])])]),e.addBlockButton?n("b-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"submit",size:"sm",variant:"primary btn-circle"},on:{click:function(){e.addClickHandler()}}},[e._v("+")]):e._e()],1),n("b-form",{directives:[{name:"show",rawName:"v-show",value:e.expanded[a],expression:"expanded[index]"}],attrs:{id:"form_"+t},on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[n("FormTreeElement",{attrs:{item:e.data[t],path:t,level:0}}),n("div",{staticClass:"block-footer",attrs:{slot:"footer"},slot:"footer"},[n("b-button",{attrs:{type:"submit",size:"sm",variant:"primary"}},[n("i",{staticClass:"fa fa-dot-circle-o"}),e._v(" Сохранить\n                    ")])],1)],1)],1)})):e.data?e._l(e.data,(function(t,a,o){return n("b-card",{key:o,class:[{collapsed:!e.expanded[o]}]},[n("div",{attrs:{slot:"header"},slot:"header"},[n("strong",[e.expanded[o]?n("a",{attrs:{href:"/"},on:{click:function(t){return t.preventDefault(),function(){e.collapse(o)}()}}},[e._v("- "),n("span",[e._v(e._s(e.i18n.get(a)))])]):n("a",{attrs:{href:"/"},on:{click:function(t){return t.preventDefault(),function(){e.expand(o)}()}}},[e._v("+ "),n("span",[e._v(e._s(e.i18n.get(a)))])])]),e.addBlockButton?n("b-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"submit",size:"sm",variant:"primary btn-circle"},on:{click:function(){e.addClickHandler()}}},[e._v("+")]):e._e()],1),n("b-form",{directives:[{name:"show",rawName:"v-show",value:e.expanded[o],expression:"expanded[index]"}],attrs:{id:"form_"+a},on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[e.useCustomTemplate?e._t("default",null,{item:t}):n("FormTreeElement",{attrs:{item:t,path:a,level:0}}),n("div",{staticClass:"block-footer",attrs:{slot:"footer"},slot:"footer"},[n("b-button",{attrs:{type:"submit",size:"sm",variant:"primary"}},[n("i",{staticClass:"fa fa-dot-circle-o"}),e._v(" Сохранить\n                    ")])],1)],2)],1)})):e._e()],2)},o=[],r=n("65f1"),i=r["a"],s=(n("3aa2"),n("2877")),_=Object(s["a"])(i,a,o,!1,null,null,null);t["a"]=_.exports},"55dd":function(e,t,n){"use strict";var a=n("5ca1"),o=n("d8e8"),r=n("4bf8"),i=n("79e5"),s=[].sort,_=[1,2,3];a(a.P+a.F*(i((function(){_.sort(void 0)}))||!i((function(){_.sort(null)}))||!n("2f21")(s)),"Array",{sort:function(e){return void 0===e?s.call(r(this)):s.call(r(this),o(e))}})},6017:function(e,t,n){(function(e,t){(function(e,n){"use strict";if(!e.setImmediate){var a,o=1,r={},i=!1,s=e.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(e);_=_&&_.setTimeout?_:e,"[object process]"==={}.toString.call(e.process)?f():p()?m():e.MessageChannel?h():s&&"onreadystatechange"in s.createElement("script")?v():b(),_.setImmediate=c,_.clearImmediate=l}function c(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return r[o]=i,a(o),o++}function l(e){delete r[e]}function u(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(n,a);break}}function d(e){if(i)setTimeout(d,0,e);else{var t=r[e];if(t){i=!0;try{u(t)}finally{l(e),i=!1}}}}function f(){a=function(e){t.nextTick((function(){d(e)}))}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function m(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&d(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),a=function(n){e.postMessage(t+n,"*")}}function h(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;d(t)},a=function(t){e.port2.postMessage(t)}}function v(){var e=s.documentElement;a=function(t){var n=s.createElement("script");n.onreadystatechange=function(){d(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function b(){a=function(e){setTimeout(d,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n("c8ba"),n("f28c"))},"65f1":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1c4c"),core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__),_Users_x3mprog_projects_solorumgroup_webappsolorumgroup_admin_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("75fc"),_FormTreeElement_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("e292"),_AppData_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("2d7d"),_i18n_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("9225"),_firebase_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("dc59"),timers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("5118"),timers__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(timers__WEBPACK_IMPORTED_MODULE_9__);__webpack_exports__["a"]={props:{useCustomTemplate:Boolean,blockTitle:{default:""},addBlockButton:Boolean,collection:String,sorting:Array},data:function(){return{k:0,firebase:_firebase_js__WEBPACK_IMPORTED_MODULE_8__["a"],modal:!1,i18n:_i18n_js__WEBPACK_IMPORTED_MODULE_7__["a"],data:void 0,expanded:void 0}},created:function(){if(this.expanded=[],void 0!=this.data)if(this.data.hasOwnProperty("length"))for(var e=0;e<this.data.length;e++)this.expanded.push(!1);else for(var t in this.data)this.expanded.push(!1)},mounted:function(){var e=this;_firebase_js__WEBPACK_IMPORTED_MODULE_8__["a"].auth().onAuthStateChanged((function(t){t?_AppData_js__WEBPACK_IMPORTED_MODULE_6__["a"].fetchData(e.collection).then((function(t){e.data=t,console.log(t)})).catch((function(e){console.log(e)})):e.$router.push("/pages/login/")}))},methods:{expand:function(e){this.expanded[e]=!0,console.log(this.expanded,e),this.expanded=Object(_Users_x3mprog_projects_solorumgroup_webappsolorumgroup_admin_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__["a"])(this.expanded)},collapse:function(e){this.expanded[e]=!1,this.expanded=Object(_Users_x3mprog_projects_solorumgroup_webappsolorumgroup_admin_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__["a"])(this.expanded)},addClickHandler:function(){var e,t=1;while(void 0!==this.data[this.blockTitle+t])e=this.data[this.blockTitle+t],t++;this.data[this.blockTitle+t]=Object.assign({},e),this.data[this.blockTitle+t].id=t,this.data=this.data,_AppData_js__WEBPACK_IMPORTED_MODULE_6__["a"].saveData(this.collection,this.blockTitle+t,this.data[this.blockTitle+t]).then((function(){})).catch((function(){})),this.k++},showAuth:function(){this.modal=!0},submitHandler:function submitHandler(e){var _this2=this;Array.from(e.target.elements).forEach((function(element){var data=_this2.data;if(element.id){console.log(element.id);var objectPath=element.id.replace(/[_]/g,".").replace(/\.(\d{1,2})/g,"[$1]");console.log(objectPath),-1!==element.id.indexOf("file-input")?console.log(element.checked):"checkbox"===element.type?(console.log(element.checked),eval("data."+objectPath+"= element.checked")):(console.log(element.value),eval("data."+objectPath+"= element.value"))}}));var doc=e.target.id.replace("form_","");_AppData_js__WEBPACK_IMPORTED_MODULE_6__["a"].saveData(this.collection,doc,this.data[doc]).then((function(){_this2.saving=!1})).catch((function(){}))}},components:{FormTreeElement:_FormTreeElement_vue__WEBPACK_IMPORTED_MODULE_5__["a"]}}},"6a5b":function(e,t,n){"use strict";var a=n("3ea1"),o=n.n(a);o.a},e292:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item-holder",style:{"padding-left":"20px!important"}},e._l(e.item,(function(t,a,o){return n("div",{key:a},[n("b-row",["number"!==typeof t&&"string"!==typeof t&&"boolean"!==typeof t?n("strong",[e.expanded["number"===typeof a?a:o]?n("a",{attrs:{href:"/"},on:{click:function(t){return t.preventDefault(),function(){e.collapse("number"===typeof a?a:o)}()}}},[e._v("\n                    -\n                    "),n("span",[e._v(e._s(e.i18n.get(a)))])]):n("a",{attrs:{href:"/"},on:{click:function(t){return t.preventDefault(),function(){e.expand("number"===typeof a?a:o)}()}}},[e._v("\n                    +\n                    "),n("span",[e._v(e._s(e.i18n.get(a)))])])]):e._e(),"coords"!==a?n("div",{staticClass:"list-actions"},[Array.isArray(t)?n("div",[n("b-button",{attrs:{block:"",variant:"primary btn-circle"},on:{click:function(n){return e.addElementToList(e.item,t,a,o)}}},[e._v("+")])],1):e._e(),"number"===typeof a&&0!==a?n("div",[n("b-button",{attrs:{block:"",variant:"danger btn-circle"},on:{click:function(n){return e.removeElementFromList(e.item,t,a,o)}}},[e._v("-")])],1):e._e()]):e._e()]),"number"===typeof t||"string"===typeof t||"boolean"===typeof t?n("b-form-group",{attrs:{label:e.i18n.get(a),"label-for":(e.path+"."+a).replace(/\./g,"_"),"label-cols":3,horizontal:!1}},["boolean"===typeof t?n("b-form-checkbox-group",{attrs:{stacked:"",name:"Checkboxes",plain:!0,checked:!0===t?[0]:[]}},[n("b-form-checkbox",{attrs:{value:"0",id:(e.path+"."+a).replace(/\./g,"_")}},[e._v(e._s(e.i18n.get(a)))])],1):-1!==(e.path+"."+a).indexOf("icon")&&-1===(e.path+"."+a).indexOf("href")||-1!==(e.path+"."+a).indexOf("src")||-1!==(e.path+"."+a).indexOf("avatar")||-1!==(e.path+"."+a).indexOf("thumbnail")?n("div",{staticStyle:{display:"grid","grid-gap":"10px","justify-items":"flex-start"}},["desc"===a?n("b-form-textarea",{attrs:{id:(e.path+"."+a).replace(/\./g,"_"),type:"text",rows:6,"max-rows":6,autocomplete:"name",value:t.toString(),disabled:"id"===a}}):n("b-form-input",{attrs:{id:(e.path+"."+a).replace(/\./g,"_"),type:"text",autocomplete:"name",value:t.toString(),disabled:"id"===a}}),n("b-form-file",{attrs:{plain:!0,id:("file-input"+e.path+"."+a).replace(/\./g,"_")},on:{change:function(t){e.uploadFile(t,(e.path+"."+a).replace(/\./g,"_"))}}}),0!==e.uploadProgress?n("b-progress",{staticStyle:{"justify-self":"stretch"},attrs:{value:e.uploadProgress,max:100,"show-progress":"",animated:""}}):e._e()],1):"desc"===a?n("b-form-textarea",{attrs:{id:(e.path+"."+a).replace(/\./g,"_"),type:"text",rows:6,"max-rows":6,autocomplete:"name",value:t.toString(),disabled:"id"===a}}):n("b-form-input",{attrs:{id:(e.path+"."+a).replace(/\./g,"_"),type:"text",autocomplete:"name",disabled:"id"===a,value:t.toString()}})],1):n("FormTreeElement",{directives:[{name:"show",rawName:"v-show",value:e.expanded["number"===typeof a?a:o],expression:"expanded[typeof k === 'number' ? k : i]"}],attrs:{item:t,path:e.path+"."+a,level:e.level+1}})],1)})),0)},o=[],r=(n("7f7f"),n("75fc")),i=(n("c5f6"),n("9225")),s=(n("2398"),n("dc59")),_=n("5118"),c={props:{level:Number,path:String,item:{default:{}}},name:"FormTreeElement",data:function(){return{uploadProgress:0,i18n:i["a"],selected:[],show:!0,data:void 0,expanded:void 0}},created:function(){if(this.expanded=[],this.item.hasOwnProperty("length"))for(var e=0;e<this.item.length;e++)this.expanded.push(!1);else for(var t in this.item)this.expanded.push(!1)},methods:{expand:function(e){this.expanded[e]=!0,console.log(this.expanded,e),this.expanded=Object(r["a"])(this.expanded)},collapse:function(e){this.expanded[e]=!1,this.expanded=Object(r["a"])(this.expanded)},addElementToList:function(e,t,n,a){if(console.log(e,t,n,a),t.length>0)if("string"===typeof t[0])t.push(t[0]);else{var o=JSON.parse(JSON.stringify(t[0]));t.push(o)}},removeElementFromList:function(e,t,n,a){console.log(e,t,n,a),e.splice(n,1)},addElement:function(){},click:function(){},uploadFile:function(e,t){var n=this;alert(123312);var a=document.getElementById("file-input"+t),o=a.files[0];if(o){console.log(o);var r=+new Date+"-"+o.name,i={contentType:o.type},c=s["a"].storage().ref(),l=c.child("uploads/"+r).put(o,i);l.then((function(e){return e.ref.getDownloadURL()})).then((function(e){console.log(e);var a=document.getElementById(t);a.value=e,Object(_["setTimeout"])((function(){n.uploadProgress=0}),1e3)})).catch((function(e){console.log(e)})),l.on("state_changed",(function(e){n.uploadProgress=e.bytesTransferred/e.totalBytes*100,console.log(n.uploadProgress)}))}}}},l=c,u=(n("6a5b"),n("2877")),d=Object(u["a"])(l,a,o,!1,null,null,null);t["a"]=d.exports}}]);
//# sourceMappingURL=chunk-ce1aee7a.f4a4a24f.js.map