(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d179ef8"],{2540:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-row",[a("PortfolioFormCard",{attrs:{useCustomTemplate:!0,collection:"portfolios","block-title":"portfolio","add-block-button":!0}})],1)],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-col",{key:t.k,attrs:{md:"12"}},[t.data?t._l(t.data,(function(e,s,o){return a("b-card",{key:o,class:[{collapsed:!t.expanded[o]}]},[a("div",{attrs:{slot:"header"},slot:"header"},[a("strong",[t.expanded[o]?a("a",{attrs:{href:"/"},on:{click:function(e){return e.preventDefault(),function(){t.collapse(o)}()}}},[t._v("\n                        -\n                        "),a("span",[t._v(t._s(t.i18n.get(s)))])]):a("a",{attrs:{href:"/"},on:{click:function(e){return e.preventDefault(),function(){t.expand(o)}()}}},[t._v("\n                        +\n                        "),a("span",[t._v(t._s(t.i18n.get(s)))])])]),t.addBlockButton?a("b-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"submit",size:"sm",variant:"primary btn-circle"},on:{click:function(){t.addClickHandler()}}},[t._v("+")]):t._e(),o>0?a("b-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"submit",size:"sm",variant:"danger btn-circle"},on:{click:function(){t.removeClickHandler(s,o)}}},[t._v("-")]):t._e()],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:t.expanded[o],expression:"expanded[index]"}],attrs:{id:"form_"+s},on:{submit:function(e){return e.preventDefault(),function(){return t.submitHandler(o,s)}()}}},[a("PortfolioFormElement",{ref:"portfolioItems",refInFor:!0,attrs:{item:e}}),a("div",{ref:"",refInFor:!0,staticClass:"block-footer",attrs:{slot:"footer"},slot:"footer"},[a("b-button",{attrs:{type:"submit",size:"sm",variant:"primary"}},[t.saving?a("div",[a("i",{staticClass:"fa fa-spinner fa-pulse"}),t._v(" Сохраняем")]):t.saving||t.saved?a("div",[a("i",{staticClass:"fa fa-check"}),t._v("  Сохранено")]):a("div",[a("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" Сохранить")])])],1)],1)],1)})):t._e()],2)},i=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("a481"),a("bd86")),r=a("75fc"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-holder",style:{"padding-left":"20px!important"}},[a("div",[a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("title"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"title",type:"text",placeholder:t.i18n.get("title")},model:{value:t.data.title,callback:function(e){t.$set(t.data,"title",e)},expression:"data.title"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("date"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-3",attrs:{id:"date",type:"text",placeholder:t.i18n.get("date")},model:{value:t.data.date,callback:function(e){t.$set(t.data,"date",e)},expression:"data.date"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("tags"),"label-cols":5}},[t._l(t.data.tags,(function(e,s){return[a("div",{key:s,staticClass:"list-item"},[a("b-form-select",{staticClass:"col-sm-12",attrs:{value:t.data.tags[s],options:t.tagsList.map((function(t){return t.title})),type:"text"},on:{change:function(e){t.data.tags[s]=e}}}),a("b-button",s>0?{on:{click:function(){t.removeElementFromList(t.data.tags,s)}}}:{attrs:{disabled:!0}},[t._v("-")])],1)]})),a("b-button",{on:{click:function(){return t.addElementToList(t.data.tags)}}},[t._v("+")])],2)],1),t.data.video?a("b-row",[a("FormUpload",{attrs:{label:"Видео в шапке страницы"},model:{value:t.data.video.src,callback:function(e){t.$set(t.data.video,"src",e)},expression:"data.video.src"}}),a("FormUpload",{attrs:{label:"Thumbnail для видео в шапке"},model:{value:t.data.video.thumbnail,callback:function(e){t.$set(t.data.video,"thumbnail",e)},expression:"data.video.thumbnail"}})],1):t._e(),t.data.img?a("b-row",[a("FormUpload",{attrs:{label:"Фото в шапке страницы"},model:{value:t.data.img.src,callback:function(e){t.$set(t.data.img,"src",e)},expression:"data.img.src"}})],1):t._e(),a("h4",[a("a",{attrs:{href:"/"},on:{click:function(e){return e.preventDefault(),function(){t.taskExanded=!t.taskExanded}()}}},[a("span",{staticClass:"expand"},[t._v(t._s(t.taskExanded?"-":"+"))]),t._v(" Блок задача\n            ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.taskExanded,expression:"taskExanded"}],staticClass:"info-block info-block-task"},[a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("title"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.task.title",type:"text",placeholder:t.i18n.get("title")},model:{value:t.data.task.title,callback:function(e){t.$set(t.data.task,"title",e)},expression:"data.task.title"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("desc"),"label-cols":5}},[a("b-form-textarea",{staticClass:"col-sm-12",attrs:{rows:6,"max-rows":6,id:"data.task.desc",type:"text",placeholder:t.i18n.get("desc")},model:{value:t.data.task.desc,callback:function(e){t.$set(t.data.task,"desc",e)},expression:"data.task.desc"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("url"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.task.url",type:"text",placeholder:t.i18n.get("url")},model:{value:t.data.task.url,callback:function(e){t.$set(t.data.task,"url",e)},expression:"data.task.url"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("status"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.task.status",type:"text",placeholder:t.i18n.get("status")},model:{value:t.data.task.status,callback:function(e){t.$set(t.data.task,"status",e)},expression:"data.task.status"}})],1)],1)],1),a("h4",[a("a",{attrs:{href:"/"},on:{click:function(e){return e.preventDefault(),function(){t.researchExanded=!t.researchExanded}()}}},[a("span",{staticClass:"expand"},[t._v(t._s(t.researchExanded?"-":"+"))]),t._v(" Блок Исследование\n            ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.researchExanded,expression:"researchExanded"}],staticClass:"info-block info-block-task"},[a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("title"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.research.title",type:"text",placeholder:t.i18n.get("title")},model:{value:t.data.research.title,callback:function(e){t.$set(t.data.research,"title",e)},expression:"data.research.title"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:"Подзаголовок","label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.research.more",type:"text",placeholder:"Подзаголовок"},model:{value:t.data.research.more,callback:function(e){t.$set(t.data.research,"more",e)},expression:"data.research.more"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("desc"),"label-cols":5}},[a("b-form-textarea",{staticClass:"col-sm-12",attrs:{rows:6,"max-rows":6,id:"data.research.desc",type:"text",placeholder:t.i18n.get("desc")},model:{value:t.data.research.desc,callback:function(e){t.$set(t.data.research,"desc",e)},expression:"data.research.desc"}})],1)],1),a("b-row",[t._l(t.data.research.img,(function(e,s){return[a("FormUpload",{key:s,attrs:{label:0===s?"Список изображений в блоке":" "},model:{value:t.data.research.img[s].src,callback:function(e){t.$set(t.data.research.img[s],"src",e)},expression:"data.research.img[index].src"}}),a("b-form-group",{key:s+1e3,staticClass:"col-12",attrs:{label:" ","label-cols":5}},[a("b-button",s>0?{on:{click:function(){t.removeElementFromList(t.data.research.img,s)}}}:{attrs:{disabled:!0}},[t._v("-")])],1)]})),a("b-form-group",{staticClass:"col-12",attrs:{label:" ","label-cols":5}},[a("b-button",{on:{click:function(){return t.addElementToList(t.data.research.img)}}},[t._v("Добавить изображение в список")])],1)],2)],1),a("h4",[a("a",{attrs:{href:"/"},on:{click:function(e){return e.preventDefault(),function(){t.designExanded=!t.designExanded}()}}},[a("span",{staticClass:"expand"},[t._v(t._s(t.designExanded?"-":"+"))]),t._v(" Блок Дизайн\n            ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.designExanded,expression:"designExanded"}],staticClass:"info-block info-block-design"},[a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("title"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.design.title",type:"text",placeholder:t.i18n.get("title")},model:{value:t.data.design.title,callback:function(e){t.$set(t.data.design,"title",e)},expression:"data.design.title"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:"Подзаголовок","label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.design.more",type:"text",placeholder:"Подзаголовок"},model:{value:t.data.design.more,callback:function(e){t.$set(t.data.design,"more",e)},expression:"data.design.more"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("desc"),"label-cols":5}},[a("b-form-textarea",{staticClass:"col-sm-12",attrs:{rows:6,"max-rows":6,id:"data.design.desc",type:"text",placeholder:t.i18n.get("desc")},model:{value:t.data.design.desc,callback:function(e){t.$set(t.data.design,"desc",e)},expression:"data.design.desc"}})],1)],1),a("b-row",[a("FormUpload",{attrs:{label:"Видео"},model:{value:t.data.design.video,callback:function(e){t.$set(t.data.design,"video",e)},expression:"data.design.video"}}),a("FormUpload",{attrs:{label:"Thumbnail для видео"},model:{value:t.data.design.thumbnail,callback:function(e){t.$set(t.data.design,"thumbnail",e)},expression:"data.design.thumbnail"}})],1),a("b-row",[a("FormUpload",{attrs:{label:"Фото вместо видео"},model:{value:t.data.design.image.src,callback:function(e){t.$set(t.data.design.image,"src",e)},expression:"data.design.image.src"}})],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:"Текст под видео","label-cols":5}},[a("b-form-textarea",{staticClass:"col-sm-12",attrs:{rows:6,"max-rows":6,id:"data.design.subdesc",type:"text",placeholder:"Текст под видео"},model:{value:t.data.design.subdesc,callback:function(e){t.$set(t.data.design,"subdesc",e)},expression:"data.design.subdesc"}})],1)],1),a("b-row",[t._l(t.data.design.img,(function(e,s){return[a("FormUpload",{key:s+100,attrs:{label:0===s?"Большое изображение, коллаж":" "},model:{value:t.data.design.img[s].src,callback:function(e){t.$set(t.data.design.img[s],"src",e)},expression:"data.design.img[index].src"}}),a("b-form-group",{key:s+1e3,staticClass:"col-12",attrs:{label:" ","label-cols":5}},[a("b-button",s>0?{on:{click:function(){t.removeElementFromList(t.data.design.img,s)}}}:{attrs:{disabled:!0}},[t._v("-")])],1)]})),a("b-form-group",{staticClass:"col-12",attrs:{label:" ","label-cols":5}},[a("b-button",{on:{click:function(){return t.addElementToList(t.data.design.img)}}},[t._v("Добавить изображение в список")])],1)],2)],1),a("h4",[a("a",{attrs:{href:"/"},on:{click:function(e){return e.preventDefault(),function(){t.deviceExanded=!t.deviceExanded}()}}},[a("span",{staticClass:"expand"},[t._v(t._s(t.deviceExanded?"-":"+"))]),t._v(" Блок На любом устройстве\n            ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.deviceExanded,expression:"deviceExanded"}],staticClass:"info-block info-block-device"},[a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("title"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.devices.title",type:"text",placeholder:t.i18n.get("title")},model:{value:t.data.devices.title,callback:function(e){t.$set(t.data.devices,"title",e)},expression:"data.devices.title"}})],1)],1),a("b-row",[t._l(t.data.devices.img,(function(e,s){return[a("FormUpload",{key:s,attrs:{label:0===s?"Список изображений в блоке":" "},model:{value:t.data.devices.img[s].src,callback:function(e){t.$set(t.data.devices.img[s],"src",e)},expression:"data.devices.img[index].src"}}),a("b-form-group",{key:s+1e3,staticClass:"col-12",attrs:{label:" ","label-cols":5}},[a("b-button",s>0?{on:{click:function(){t.removeElementFromList(t.data.devices.img,s)}}}:{attrs:{disabled:!0}},[t._v("-")])],1)]})),a("b-form-group",{staticClass:"col-12",attrs:{label:" ","label-cols":5}},[a("b-button",{on:{click:function(){return t.addElementToList(t.data.devices.img)}}},[t._v("Добавить изображение в список")])],1)],2),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:"Скрыть блок","label-cols":5}},[a("b-form-checkbox",{attrs:{checked:t.data.devices.isHidden},model:{value:t.data.devices.isHidden,callback:function(e){t.$set(t.data.devices,"isHidden",e)},expression:"data.devices.isHidden"}})],1)],1)],1),a("h4",[a("a",{attrs:{href:"/"},on:{click:function(e){return e.preventDefault(),function(){t.previewExanded=!t.previewExanded}()}}},[a("span",{staticClass:"expand"},[t._v(t._s(t.previewExanded?"-":"+"))]),t._v(" Предпросмотр\n            ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.previewExanded,expression:"previewExanded"}],staticClass:"info-block info-block-design"},[a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("title"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.preview.title",type:"text",placeholder:t.i18n.get("title")},model:{value:t.data.preview.title,callback:function(e){t.$set(t.data.preview,"title",e)},expression:"data.preview.title"}})],1)],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:t.i18n.get("href"),"label-cols":5}},[a("b-form-input",{staticClass:"col-sm-12",attrs:{id:"data.preview.desc",type:"text",placeholder:t.i18n.get("href")},model:{value:t.data.preview.href,callback:function(e){t.$set(t.data.preview,"href",e)},expression:"data.preview.href"}})],1)],1),a("b-row",[a("FormUpload",{attrs:{label:"Изображения для превью"},model:{value:t.data.preview.src,callback:function(e){t.$set(t.data.preview,"src",e)},expression:"data.preview.src"}})],1),a("b-row",[a("b-form-group",{staticClass:"col-12",attrs:{label:"Светлая надпись","label-cols":5}},[a("b-form-checkbox",{attrs:{checked:t.data.preview.isLight},model:{value:t.data.preview.isLight,callback:function(e){t.$set(t.data.preview,"isLight",e)},expression:"data.preview.isLight"}})],1)],1)],1),a("h4",[a("a",{attrs:{href:"/"},on:{click:function(e){return e.preventDefault(),function(){t.metaExanded=!t.metaExanded}()}}},[a("span",{staticClass:"expand"},[t._v(t._s(t.metaExanded?"-":"+"))]),t._v(" Мета информация\n            ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.metaExanded,expression:"metaExanded"}],staticClass:"info-block info-block-design"},[a("FormInputText",{attrs:{title:"title"},model:{value:t.data.meta.title,callback:function(e){t.$set(t.data.meta,"title",e)},expression:"data.meta.title"}}),a("FormTextarea",{attrs:{title:"desc"},model:{value:t.data.meta.description,callback:function(e){t.$set(t.data.meta,"description",e)},expression:"data.meta.description"}}),a("FormTextarea",{attrs:{title:"keywords"},model:{value:t.data.meta.keywords,callback:function(e){t.$set(t.data.meta,"keywords",e)},expression:"data.meta.keywords"}}),a("FormUpload",{attrs:{label:"img"},model:{value:t.data.meta.img.src,callback:function(e){t.$set(t.data.meta.img,"src",e)},expression:"data.meta.img.src"}})],1)],1)])},d=[],u=(a("7f7f"),a("c5f6"),a("9225")),f=(a("2398"),a("dc59")),m=a("5118"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form-group",{staticClass:"col-12",attrs:{label:t.label,"label-cols":5}},[a("div",{staticClass:"list-item"},[a("b-form-input",{ref:"formInput",attrs:{type:"text",autocomplete:"name",value:t.value,"v-model":t.value},on:{input:t.onInput,change:t.onChange}})],1),a("div",{staticClass:"list-item"},[a("b-form-file",{ref:"fileInput",attrs:{plain:!0},on:{change:t.uploadFile}}),0!==t.uploadProgress?a("b-progress",{staticStyle:{"justify-self":"stretch"},attrs:{value:t.uploadProgress,max:100,"show-progress":"",animated:""}}):t._e(),t.uploaded?a("div",{staticStyle:{"text-align":"right"}},[t._v("Загружено")]):t._e()],1)])},b=[],h={name:"FormUpload",props:{label:String,value:String},data:function(){return{uploaded:!1,uploadProgress:0,newValue:""}},created:function(){this.newValue=this.value},methods:{onInput:function(t){console.log(t),this.newValue=t,this.$emit("input",this.newValue)},onChange:function(t){this.newValue=t,this.$emit("change",this.newValue)},uploadFile:function(){var t=this;this.uploaded=!1;var e=this.$refs.fileInput.$el,a=e.files[0];if(a){console.log(a);var s=+new Date+"-"+a.name,o={contentType:a.type},n=f["a"].storage().ref(),i=n.child("uploads/"+s).put(a,o);i.then((function(t){return t.ref.getDownloadURL()})).then((function(e){t.uploaded=!0,t.uploadProgress=0,t.newValue=e,t.$emit("input",t.newValue)})).catch((function(t){console.log(t)})),i.on("state_changed",(function(e){t.uploadProgress=e.bytesTransferred/e.totalBytes*100,console.log(t.uploadProgress)}))}}}},v=h,g=a("2877"),x=Object(g["a"])(v,p,b,!1,null,"98f2e132",null),k=x.exports,w=a("2d7d"),y={props:{level:Number,path:String,item:{default:{}}},name:"PortfolioForm",data:function(){return{metaExanded:!1,taskExanded:!1,researchExanded:!1,deviceExanded:!1,designExanded:!1,previewExanded:!1,uploadProgress:0,i18n:u["a"],selected:[],show:!0,data:void 0,tagsList:[],expanded:void 0}},created:function(){var t=this;if(w["a"].fetchData("portfolio").then((function(e){console.log(e.tags.list),t.tagsList=e.tags.list})).catch((function(t){console.log(t)})),this.expanded=[],this.item.hasOwnProperty("length"))for(var e=0;e<this.item.length;e++)this.expanded.push(!1);else for(var a in this.item)this.expanded.push(!1);this.data=this.item},methods:{expand:function(t){this.expanded[t]=!0,console.log(this.expanded,t),this.expanded=Object(r["a"])(this.expanded)},collapse:function(t){this.expanded[t]=!1,this.expanded=Object(r["a"])(this.expanded)},addElementToList:function(t){if(console.log(t),t.length>0)if("string"===typeof t[0])t.push("");else{var e=JSON.parse(JSON.stringify(t[0]));t.push(e)}},removeElementFromList:function(t,e){console.log(t,e),t.splice(e,1)},addElement:function(){},click:function(){},uploadFile:function(t,e){var a=this,s=document.getElementById(e),o=s.files[0];if(o){console.log(o);var n=+new Date+"-"+o.name,i={contentType:o.type},l=f["a"].storage().ref(),r=l.child("uploads/"+n).put(o,i);r.then((function(t){return t.ref.getDownloadURL()})).then((function(t){console.log(t);var s=document.getElementById(e.replace("file","form"));s.value=t,Object(m["setTimeout"])((function(){a.uploadProgress=0}),1e3)})).catch((function(t){console.log(t)})),r.on("state_changed",(function(t){a.uploadProgress=t.bytesTransferred/t.totalBytes*100,console.log(a.uploadProgress)}))}}},components:{FormUpload:k}},C=y,_=(a("7158"),Object(g["a"])(C,c,d,!1,null,null,null)),E=_.exports;function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(a,!0).forEach((function(e){Object(l["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var O={props:{useCustomTemplate:Boolean,blockTitle:{default:""},addBlockButton:Boolean,collection:String},data:function(){return{k:0,firebase:f["a"],modal:!1,i18n:u["a"],data:void 0,expanded:void 0,saving:!1,saved:!1,timer:0}},created:function(){if(this.expanded=[],void 0!=this.data)if(this.data.hasOwnProperty("length"))for(var t=0;t<this.data.length;t++)this.expanded.push(!1);else for(var e in this.data)this.expanded.push(!1)},mounted:function(){var t=this;f["a"].auth().onAuthStateChanged((function(e){e?w["a"].fetchData(t.collection).then((function(e){t.data=e,console.log("result = ",e)})).catch((function(t){console.log(t)})):t.$router.push("/pages/login/")}))},methods:{expand:function(t){this.expanded[t]=!0,console.log(this.expanded,t),this.expanded=Object(r["a"])(this.expanded)},collapse:function(t){this.expanded[t]=!1,this.expanded=Object(r["a"])(this.expanded)},addClickHandler:function(){var t,e=this,a=1;while(void 0!==this.data[this.blockTitle+a])t=this.data[this.blockTitle+a],a++;this.data[this.blockTitle+a]=Object.assign({},t),this.data[this.blockTitle+a].id=a,this.data=this.data,w["a"].saveData(this.collection,this.blockTitle+a,this.data[this.blockTitle+a]).then((function(){Object(m["setTimeout"])((function(){e.saving=!1}),500)})).catch((function(){Object(m["setTimeout"])((function(){e.saving=!1}),500)})),this.k++},removeClickHandler:function(t,e){delete this.data[t],this.data=this.data,w["a"].removeData(this.collection,t),this.k++},showAuth:function(){this.modal=!0},submitHandler:function(t,e){var a=this;this.saving=!0;var s=e;this.data[s]=$({},this.$refs.portfolioItems[t].item),this.data[s].alias=this.data[s].preview.href.replace("/portfolio/",""),console.log(this.$refs.portfolioItems[t].item),clearTimeout(this.timer),console.log(this.collection,s,this.data[s]),w["a"].saveData(this.collection,s,this.data[s]).then((function(){a.saving=!1,a.saved=!0,clearTimeout(a.timer),a.timer=Object(m["setTimeout"])((function(){a.saving=!1,a.saved=!1}),5e3)})).catch((function(){a.saving=!1,clearTimeout(a.timer),a.timer=Object(m["setTimeout"])((function(){a.saving=!1,a.saved=!1}),5e3)}))}},components:{PortfolioFormElement:E}},F=O,I=(a("e484"),Object(g["a"])(F,n,i,!1,null,null,null)),P=I.exports,j={name:"footer",data:function(){return{}},methods:{click:function(){}},components:{PortfolioFormCard:P}},D=j,L=(a("ecba"),Object(g["a"])(D,s,o,!1,null,"396169cf",null));e["default"]=L.exports},"2d7d":function(t,e,a){"use strict";a("ac6a"),a("55dd");var s=a("dc59");e["a"]={fetchData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;return new Promise((function(n){var i=s["a"].firestore(),l={};i.settings(l);var r=i.collection(t);o&&(r=r.orderBy(o.sort,o.order)),r.get().then((function(t){console.log(t.docs);var e={};a?e=t.docs.map((function(t){return t.data()})):(e={},t.docs.forEach((function(t){e[t.id]=t.data()}))),console.log(e),n(e)})).catch((function(){n(e[t])}))}))},removeData:function(t,e){var a=s["a"].firestore(),o={};a.settings(o),a.collection(t).doc(e).delete().then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},saveData:function(t,e,a){return new Promise((function(o,n){var i=s["a"].firestore(),l={};i.settings(l),i.collection(t).doc(e).set(a).then((function(t){console.log(t),o(t)})).catch((function(t){console.log(t),n(t)}))}))},uploadAppData:function(){var t=this,e=s["a"].firestore(),a={};e.settings(a);var o=["navigation","main","coworking","office","business","realty","contacts","event","callback","footer"];o.forEach((function(a){var s=t[a];for(var o in console.log(t[a]),console.log(a),s)Array.isArray(s[o])?e.collection(a).doc(o).set({list:s[o]}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})):e.collection(a).doc(o).set(s[o]).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}))},cached:{}}},"2f21":function(t,e,a){"use strict";var s=a("79e5");t.exports=function(t,e){return!!t&&s((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},5118:function(t,e,a){(function(t){var s="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function n(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new n(o.call(setTimeout,s,arguments),clearTimeout)},e.setInterval=function(){return new n(o.call(setInterval,s,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(s,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},a("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,a("c8ba"))},"55dd":function(t,e,a){"use strict";var s=a("5ca1"),o=a("d8e8"),n=a("4bf8"),i=a("79e5"),l=[].sort,r=[1,2,3];s(s.P+s.F*(i((function(){r.sort(void 0)}))||!i((function(){r.sort(null)}))||!a("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(n(this)):l.call(n(this),o(t))}})},"5f7a":function(t,e,a){},6017:function(t,e,a){(function(t,e){(function(t,a){"use strict";if(!t.setImmediate){var s,o=1,n={},i=!1,l=t.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(t);r=r&&r.setTimeout?r:t,"[object process]"==={}.toString.call(t.process)?m():p()?b():t.MessageChannel?h():l&&"onreadystatechange"in l.createElement("script")?v():g(),r.setImmediate=c,r.clearImmediate=d}function c(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),a=0;a<e.length;a++)e[a]=arguments[a+1];var i={callback:t,args:e};return n[o]=i,s(o),o++}function d(t){delete n[t]}function u(t){var e=t.callback,s=t.args;switch(s.length){case 0:e();break;case 1:e(s[0]);break;case 2:e(s[0],s[1]);break;case 3:e(s[0],s[1],s[2]);break;default:e.apply(a,s);break}}function f(t){if(i)setTimeout(f,0,t);else{var e=n[t];if(e){i=!0;try{u(e)}finally{d(t),i=!1}}}}function m(){s=function(t){e.nextTick((function(){f(t)}))}}function p(){if(t.postMessage&&!t.importScripts){var e=!0,a=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=a,e}}function b(){var e="setImmediate$"+Math.random()+"$",a=function(a){a.source===t&&"string"===typeof a.data&&0===a.data.indexOf(e)&&f(+a.data.slice(e.length))};t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),s=function(a){t.postMessage(e+a,"*")}}function h(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)},s=function(e){t.port2.postMessage(e)}}function v(){var t=l.documentElement;s=function(e){var a=l.createElement("script");a.onreadystatechange=function(){f(e),a.onreadystatechange=null,t.removeChild(a),a=null},t.appendChild(a)}}function g(){s=function(t){setTimeout(f,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,a("c8ba"),a("f28c"))},7158:function(t,e,a){"use strict";var s=a("ba89"),o=a.n(s);o.a},"8f1e":function(t,e,a){},ba89:function(t,e,a){},e484:function(t,e,a){"use strict";var s=a("5f7a"),o=a.n(s);o.a},ecba:function(t,e,a){"use strict";var s=a("8f1e"),o=a.n(s);o.a}}]);
//# sourceMappingURL=chunk-2d179ef8.a95e012d.js.map